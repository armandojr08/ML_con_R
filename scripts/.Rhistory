View(Revo.version)
rm(list = ls())
setwd("C:/Users/Administrador/Desktop/ARMANDO/EDUCATE CONSULTORES/MACHINE LEARNING CON R")
#### Configuraciones iniciales ####
rm(list = ls())
rm(list = ls())
# Resumen de datos categoricos univariados
# Simularemos algunos datos categoricos, en R
# se les conoce como datos de tipo vector
gender <- c(rep('boy',18), rep('girl',12))
gender
# Resumen de datos categoricos univariados
# Simularemos algunos datos categoricos, en R
# se les conoce como datos de tipo vector
gender <- c(rep('boy',10), rep('girl',12))
drink <- c(rep('coke',5), rep('sprite',3),
rep('coffee',6), rep('tea',3),
rep('water',1))
age <- sample(c('young', 'old'), size = length(gender), replace = T)
age
# Chocolateo de los elementos
n <- length(gender)
gender <- gender[sample(1:n,n),]
# Chocolateo de los elementos
n <- length(gender)
gender <- gender[sample(1:n,n),]
gender <- gender[sample(1:n,n)]
gender
drink <- drink[sample(1:n,n)]
age <- age[sample(1:n,n)]
age
drink
gender
# Contar las frecuencias de cada nivel de las
# variables anteriores
table(gender)
table(drink)
table(age)
# Cálculo de proporciones
prop.table(gender)
# Cálculo de proporciones
prop.table(table(gender))
prop.table(table(drink))
prop.table(table(age))
install.packages("magnittr")
install.packages("magrittr")
# Resumen de datos categoricos bivariados
library(magrittr)
library(help = "magrittr")
cbind(gender, drink)
cbind(gender, drink) %>% head
table1 <- table(gender, drink)
table1
# Resumen de datos multivariado
table2 <- table(gender, drink, age)
table2
table2
# Existe una forma más legible
table2_2 <- ftable(gender, drink, age)
table2_2
## Datos continuos
# Generación de un vector con elementos
# pseudo-aleatorios
x <- c(rexp(20), runif(50), rnorm(50,9,6.5), rweibull(20,5))
x
# chocolatear los elementos de x
x <- x[sample(1:length(x), length(x))]
x
plot(x)
m1 <- mean(x)
m2 <- median(x)
desEst <- sd(x)
rango.iqr <- IQR(x)
rango.iqr
mad(x)
## Para datos categóricos
barplot(table(age))
## Para datos categóricos
barplot(table(age))
# grafico bivariado
plot(table1, main = 'grafico bivariado')
plot(table2, main = 'grafico bivariado 2')
sample1 <- rexp(10)
sample1
stripchart(x = sample1)
plot(sample1)
plot(density(sample1))
plot(sample1)
plot(density(sample1))
plot(sample1)
plot(density(sample1))
plot(sample1)
hist(x)
hist(sample1)
sample1 <- rexp(100)
# qué tan concentrado estan los datos
stripchart(x = sample1)
hist(sample1)
sample1 <- rnorm(100)
# qué tan concentrado estan los datos
stripchart(x = sample1)
hist(sample1)
hist(sample1, freq = T, main = 'frecuencias')
hist(sample1, freq = F, main = 'frecuencias')
h1 <- hist(sample1)
View(h1)
h1$breaks
h1$counts
h1$density
# coloquemos la curva de densidad sobre
# nuestro histograma
hist(sample1, freq = F, main = 'frecuencias_1')
lines(density(sample1))
rug(sample1)
sum(h1$density)
cumsum(h1$density)
# coloquemos la curva de densidad sobre
# nuestro histograma
hist(sample1, freq = F, main = 'densidad')
lines(density(sample1))
rug(sample1) # que tan junto estan los datos
# ejecutamos varias veces rnorm y veamos
# el comportamiento de su boxplot
for(num in 1:10){
x <- rnorm(100)
boxplot(x)
Sys.sleep(time = 0.2)
}
# ejecutamos varias veces rnorm y veamos
# el comportamiento de su boxplot
for(num in 1:20){
x <- rnorm(100)
boxplot(x)
Sys.sleep(time = 0.2)
}
x <- x[sample(1:length(x), length(x))]
# ejecutamos varias veces rnorm y veamos
# el comportamiento de su boxplot
for(num in 1:20){
#x <- rnorm(100)
x <- c(rexp(20), runif(80,0,20), rweibull(20,5))
x <- x[sample(1:length(x), length(x))]
boxplot(x)
Sys.sleep(time = 0.2)
}
# ejecutamos varias veces rnorm y veamos
# el comportamiento de su boxplot
for(num in 1:20){
#x <- rnorm(100)
x <- c(rexp(20), runif(80,0,20), rweibull(20,5))
x <- x[sample(1:length(x), length(x))]
boxplot(x)
Sys.sleep(time = 0.2)
}
# ejecutamos varias veces rnorm y veamos
# el comportamiento de su boxplot
for(num in 1:20){
#x <- rnorm(100)
x <- c(rexp(20), runif(80,0,20), rweibull(20,5))
x <- x[sample(1:length(x), length(x))]
boxplot(x)
Sys.sleep(time = 0.2)
}
# ejecutamos varias veces rnorm y veamos
# el comportamiento de su boxplot
for(num in 1:20){
#x <- rnorm(100)
x <- c(rexp(20), runif(80,0,20), rweibull(20,5))
x <- x[sample(1:length(x), length(x))]
boxplot(x)
Sys.sleep(time = 0.2)
}
rm(list = ls())
data0 <- read.csv("https://github.com/robintux/Datasets4StackOverFlowQuestions/blob/master/candy_production.csv
")
head(data)
head(data0)
data0 <- read.csv("https://github.com/robintux/Datasets4StackOverFlowQuestions/blob/master/candy_production.csv
")
head(data0)
View(data0)
data0 <- read.csv("https://raw.githubusercontent.com/robintux/Datasets4StackOverFlowQuestions/master/candy_production.csv")
data0 <- read.csv("https://raw.githubusercontent.com/robintux/Datasets4StackOverFlowQuestions/master/candy_production.csv")
View(data0)
colnames(data0) <- c("period", "candy_production")
colnames(dta0)
colnames(data0)
str(data0)
class(data0)
# convertimos el dataframe en un objeto TS
candyts <- ts(data0$candy_production,
start = c(1972,1),
end = c(2017,8),
frequency = 12)
candyts
str(candyts)
candyts
# verificando si hay valores perdidos
sum(is.na(candyts))
# verificando la frecuencia
frequency(candyts)
# ciclo
cycle(candyts)
# visualizacion de la data
plot.ts(candyts, ylab = 'produccion de caramelos', main = 'Produccion mensual de caramelos en USA')
# boxplot de la serie de tiempo en funcion de su ciclo
boxplot(candyts~cycle(candyts),
xlab = 'mensual',
ylab = 'produccion de caramelos',
main = 'produccion mensual de caramelos [1972-2017]')
# boxplot de la serie de tiempo en funcion de su ciclo
colores <- rep('lightblue',12)
colores3 <- 'yellow'
boxplot(candyts~cycle(candyts),
xlab = 'mensual',
ylab = 'produccion de caramelos',
main = 'produccion mensual de caramelos [1972-2017]',
col = colores)
# boxplot de la serie de tiempo en funcion de su ciclo
colores <- rep('lightblue',12)
colores3 <- 'yellow'
boxplot(candyts~cycle(candyts),
xlab = 'mensual',
ylab = 'produccion de caramelos',
main = 'produccion mensual de caramelos [1972-2017]',
col = colores)
colores[3] <- 'yellow'
boxplot(candyts~cycle(candyts),
xlab = 'mensual',
ylab = 'produccion de caramelos',
main = 'produccion mensual de caramelos [1972-2017]',
col = colores)
rm(list = ls())
rm(list = ls())
dev.off()
install.packages('quantmod')
# libreria de datos financieros
library(quantmod)
library(zoo)
install.packages('xts')
library(xts)
# conseguir datos de forex (tipo de cambio)
USOPEN <- getSymbols.oanda('USD/PEN', auto.assign = F)
USOPEN
# definamos una lista de empresas a estudiar y
# tambien un indicador
tickers <- c('AAPL','TSLA','IBM','CSCO','C','^GSPC')
# para la descarga vamos a usar la funcion getSymbols
getSymbols(Symbols = tickers)
View(AAPL)
View(GSPC)
rm(list = ls())
R.version
R.version.string
getwd()
## Configuración de rtools después de instalarlo
writeLines('PATH="${RTOOLS40_HOME}\\usr\\bin;${PATH}"', con = "~/.Renviron")
x <- c(1,NA,3,NA,NA,5)
# 1era forma : usar las funciones any y is_na
baset0 <- Sys.time()
any(is.na(x))
t_base <- Sys.time() - baset0
t_base
# 2da forma : usando naniar
naniert0 <- Sys.time()
naniar::any_na(x)
t_naniar <- Sys.time() - naniert0
t_naniar
# 3era forma
base2t0 <- Sys.time()
anyNA(x)
t_base2 <- Sys.time() - base2t0
t_base2
# Buscar un vector booleano que testee si un elemento es NA
are_na(x)
library(naniar)
library(simputation)
library(dplyr)
library(tidyverse)
library(gridExtra)
x <- c(1,NA,3,NA,NA,5)
# 1era forma : usar las funciones any y is_na
baset0 <- Sys.time()
any(is.na(x))
t_base <- Sys.time() - baset0
t_base
# 2da forma : usando naniar
naniert0 <- Sys.time()
naniar::any_na(x)
t_naniar <- Sys.time() - naniert0
t_naniar
# 3era forma
base2t0 <- Sys.time()
anyNA(x)
t_base2 <- Sys.time() - base2t0
t_base2
# Buscar un vector booleano que testee si un elemento es NA
are_na(x)
# cantidad de NA en un vector de datos
n_miss(x)
# proporción de NA en un vector de datos
prop_miss(x)
# Operaciones aritméticas en vectores que contienen NA
sum(x)
sum(x, na.rm = T)
mean(x, na.rm = T)
which(is.na(x)) # posiciones que ocupan los NA
# Valores extraños : NA, NaN, Inf
c(1,0)/0
# Operaciones con NA desde una operación lógica
NA | TRUE
NA | FALSE
NA | NA
NaN | NA
# Crear otro vector
x <- c(NA, NaN, Inf, '.', 'missing')
any_na(x)
are_na(x)
data_hw_url <- "https://raw.githubusercontent.com/robintux/Datasets4StackOverFlowQuestions/master/dat_hw.csv"
data_hw <- read.csv(data_hw_url)
colnames(data_hw)
dim(data_hw)
# eliminar la columna x (índices)
data_hw <- data_hw[,-1] # data_hw %>% select(-x)
# Cantidad de valores perdidos
n_miss(data_hw)
n_miss(data_hw$weight); n_miss(data_hw$height)
# Función n_complete : cuenta el número de valores no perdidos
n_complete(data_hw)
n_complete(data_hw$weight); n_complete(data_hw$height)
# Proporción de valores perdidos
prop_miss(data_hw)
prop_miss(data_hw$weight)
# Proporción de valores no faltantes
prop_complete(data_hw)
prop_complete(data_hw$height)
# Resumen estadístico básico del dataframe
summary(data_hw)
# Resumen de datos faltantes por columna
miss_col <- miss_var_summary(data_hw)
glimpse(miss_col)
# Trabajando con el dataframe airquality
miss_col_air <- miss_var_summary(airquality)
glimpse(miss_col_air)
# Información de valores perdidos por fila o caso
miss_case_summary(data_hw)    # case (fila)
miss_case_summary(airquality) # en la fila 27 hay 2 NA
miss_var_table(data_hw)    # En 2 variables faltan 15 observaciones
miss_var_table(airquality) # En 4 variables hay 0 NA
miss_case_table(data_hw)   # 70 filas tienen 0 NA
miss_case_table(airquality)# Hay 11 filas que no contienen NA
# Visualización de datos faltantes
vis_miss(airquality)
vis_miss(airquality[,c(1,2,3)])
vis_miss(data_hw)
# Reporte de valores faltantes en ambas dimensiones
varp <- gg_miss_var(airquality)
casep <- gg_miss_case(airquality)
grid.arrange(varp, casep, ncol = 2)
# Si agrupamos  nuestros datos faltantes por intermedio
# de la variable month
varp_month <- gg_miss_var(airquality, facet = Month)
gg_miss_upset(data_hw)
# ---------------------------------------------------------
#
gg_miss_upset(data_hw)
gg_miss_upset(airquality)
gg_miss_fct(x = airquality, fct = Month)
